# clipmuxd

**clipmuxd** — это фоновый сервис, который принимает и отправляет буферы обмена другим устройствам.

## Описание работы

- **clipmuxd** работает в фоне и управляет буферами обмена, синхронизируя их между устройствами.
- **UI-программы** подключаются к локальному сервису clipmuxd, чтобы отдавать команды и получать данные о текущем состоянии буфера обмена.

## Особенности

- При первом запуске приложения автоматически генерируются SSL-сертификаты для клиента (UI) и сервиса clipmuxd.
- Эти сертификаты используются для установки защищённого соединения UI → локальный clipmuxd через Unix сокеты или Named Pipes с использованием технологии mTLS (взаимная TLS-аутентификация).
- Обмен сертификатами происходит на этапе handshake при установлении соединений.
- Тот же ключ clipmuxd применяется для установки защищённых соединений между разными устройствами.

## Порты по умолчанию

- `51523` — gRPC handshake (установление защищённого соединения между устройствами)
- `63482` — основной gRPC-канал для передачи буфера и команд
- `49876` — обнаружение устройств в сети (network discovery, UDP)

- Для локального подключения UI:
  - Unix сокет: `/run/clipmuxd.sock` (Linux)
  - Named Pipe: `\\.\pipe\clipmuxd` (Windows)

---

clipmuxd обеспечивает безопасный обмен буферами и синхронизацию данных между локальными приложениями и удалёнными устройствами.
